"use strict";(self.webpackChunkbartend=self.webpackChunkbartend||[]).push([[821],{4821:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var r=t(2791),a=t(9434),n=t(6693);t(3508);var l=t(6268),c=t(184);const i=e=>(0,c.jsxs)("section",{className:"team_page_info",children:[(0,c.jsx)("h2",{children:e.name}),(0,c.jsxs)("section",{className:"team_page_info__team-description",children:[(0,c.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 "}),(0,c.jsx)("p",{children:e.description?e.description:"No description"})]})]}),o=e=>{const s=(0,a.I0)();return"admin"===e.currentUser.role?(0,c.jsxs)("li",{className:"user-item",children:[e.user.userName,(0,c.jsx)("span",{className:"delete-user",onClick:async function(){s(n.nO.setUserToDelete(e.user.userName,e.user.userID)),e.toggler()},children:e.currentUser.userName===e.user.userName&&e.currentUser.userName===e.user.userName?null:"exclude user"})]},e.user.userID):(0,c.jsx)("li",{className:"user-item",children:e.user.userName},e.user.userID)},u=e=>{var s;const t=(0,a.v9)((e=>e.App.user)),l=(0,a.I0)(),i=(0,a.v9)((e=>e.clans.team?e.clans.team:null));(0,r.useEffect)((()=>{l((0,n.m7)(t.userID))}),[i]);const u={currentUser:t,team:i};return(0,c.jsxs)("section",{className:"team_users",children:[(0,c.jsx)("h3",{className:"team_users__tittle",children:"Members : "}),(0,c.jsx)("ul",{className:"team_users__user-list",children:null===(s=e.users)||void 0===s?void 0:s.map(((s,t)=>(0,c.jsx)(o,{...u,user:s,toggler:e.toggler},s.userID)))})]})};var m=t(4630);const d=e=>(0,c.jsx)("div",{className:"modal-container",children:(0,c.jsxs)("section",{className:"modal",children:[(0,c.jsx)("h1",{className:"alert",children:"Are you shure you want to delete this user?"}),(0,c.jsxs)("div",{className:"alert-selection",children:[(0,c.jsx)("span",{onClick:e.confirmCallback,children:"Yes"}),(0,c.jsx)("span",{onClick:e.setState,children:"No"})]})]})});var h=t(6746);const v=function(){let e=[];for(let t=65;t<=90;t++)e.push(String.fromCharCode(t));for(let t=97;t<=122;t++)e.push(String.fromCharCode(t));for(let t=48;t<=57;t++)e.push(String.fromCharCode(t));let s="";for(let t=0;t<=20;t++)s+=e[Math.ceil(Math.random()*e.length-1)];return s};var x=t(5110);const j=e=>{var s,t,o;const j=(0,a.I0)();let[p,N]=(0,x.WK)(!1),[f,g]=(0,r.useState)("");const _=(0,a.v9)((e=>e.clans.userToDelete));return(0,c.jsxs)("section",{className:"team_page container  translate_animation ",children:[p&&(0,c.jsx)(d,{setState:N,confirmCallback:function(){j((0,n.zs)(null===_||void 0===_?void 0:_.userID,null===_||void 0===_?void 0:_.userName,e.team.teamID)),N()}}),(0,c.jsx)(i,{description:null===(s=e.team)||void 0===s?void 0:s.description,name:null===(t=e.team)||void 0===t?void 0:t.teamName}),(0,c.jsx)(u,{team:e.team,users:null===(o=e.team)||void 0===o?void 0:o.users,toggler:N}),(0,c.jsx)(m.y,{text:"Leave the team",callback:function(){j((0,n.jg)(e.team.teamID,e.user.userID,e.user.userName)),j(l.w_.setUserPage({...e.user,team:null,teamID:null}))}}),(0,c.jsx)(m.y,{text:"Generate Invite Code",callback:function(){let s=v();g(s),h.f.setInviteCode(e.team.teamID,s)}}),f.length>0&&(0,c.jsx)("span",{className:"inviteCode",children:f})]})};var p=t(1087);const N=()=>{const e=(0,a.I0)(),{errorMessage:s,isError:t,user:l}=(0,a.v9)((e=>e.App));let[i,o]=(0,r.useState)("");return(0,c.jsxs)(c.Fragment,{children:[t&&(0,c.jsx)("span",{className:"errorMessage",children:s}),(0,c.jsxs)("form",{className:"invite-team-form",onSubmit:async function(s){s.preventDefault(),e((0,n.A2)(i,l.userID,l.userName))},action:"",children:[(0,c.jsx)("input",{className:"invite-form__input",value:i,onChange:async function(e){o(e.currentTarget.value)},type:"text",name:"invite-code",placeholder:"Invite code"}),(0,c.jsx)(m.y,{type:"submit",text:"Join"})]})]})},f=()=>(0,c.jsxs)("div",{className:"empty_team container ",children:[(0,c.jsx)("h2",{className:"emty-team__tittle",children:"You dosen`t have any team"}),(0,c.jsx)("h2",{className:"invite-code__tittle",children:"Type invite code to join any team"}),(0,c.jsx)(N,{}),(0,c.jsx)("h2",{children:"Or you can create your own team"}),(0,c.jsx)(p.OL,{className:"create-team",to:"/create-team",children:"Create Team"})]});var g=t(4636);const _=()=>{let e=(()=>{const e=(0,a.I0)(),s=(0,a.v9)((e=>e.App.user.userID));let t=(0,a.v9)((e=>e.clans.team));return(0,r.useEffect)((()=>{e((0,n.m7)(s))}),[t]),t})(),s=(0,a.v9)((e=>e.App.user));return s.teamID?(0,c.jsx)(g.Z,{children:(0,c.jsx)(j,{user:s,team:e})}):(0,c.jsx)(f,{})}}}]);
//# sourceMappingURL=821.862b7f4e.chunk.js.map