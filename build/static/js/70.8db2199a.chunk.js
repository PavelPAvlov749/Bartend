"use strict";(self.webpackChunkbartend=self.webpackChunkbartend||[]).push([[70],{6070:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var n=t(2791),i=t(9434),r=(t(6229),t(184));const a=e=>{let{products:s}=e,t=s.filter((e=>!0===e.isDone)),n=100/s.length*Number(t.length);return(0,r.jsxs)("div",{className:"progress_bar",children:[(0,r.jsx)("span",{children:t.length+"/"+s.length}),(0,r.jsx)("span",{children:n.toFixed(1)+"%"})]})};let o=e=>(console.log(e.itemId),(0,r.jsxs)("li",{children:[(0,r.jsx)("a",{href:"#/card/id="+e.itemId,children:(0,r.jsx)("span",{children:e.name})}),(0,r.jsx)("span",{onClick:()=>{console.log("Click"),e.toggle(e.itemId)},children:e.isDone?"Done":"In progress"})]},e.itemId));const c=e=>{function s(s){let t={type:"toggle",payload:s};e.setState(t)}return(0,r.jsx)("section",{className:"product_list_container ",children:(0,r.jsx)("ul",{className:"products__list",children:e.ingridients.map((e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o,{itemId:e.id,name:e.name,toggle:s,isDone:e.isDone},e.itemId)})))})})};var l=t(1087);const h=()=>(0,r.jsxs)("section",{className:"empty_shift_container container",children:[(0,r.jsx)("span",{children:"There is no open shift"}),(0,r.jsx)(l.OL,{className:"nav_link begin-shift",to:"create-new",children:"Begin"})]});var d=t(7872);const p=(e,s)=>{switch(s.type){case"toggle":return[...e.map((e=>e.id===s.payload?{...e,isDone:!e.isDone}:e))];case"set-state":return[...s.payload];default:return e}};var u=t(4630);const x=n.memo((e=>{var s;const t=(0,i.I0)();let[o,l]=(0,n.useReducer)(p,e.products);(0,n.useEffect)((()=>{let s={type:"set-state",payload:e.products};l(s)}),[e.products.length]);const x=function(){t((0,d.aC)(e.shift))};return(null===(s=e.shift.shiftID)||void 0===s?void 0:s.length)>1?(0,r.jsxs)("section",{className:"current_shift_container translate_animation",children:[(0,r.jsx)(a,{products:o}),(0,r.jsx)(c,{ingridients:o,setState:l}),(0,r.jsx)(u.y,{className:"confirm_button",text:"End shift",callback:x})]}):(0,r.jsx)(h,{})}));var f=t(7689);const m=e=>(0,r.jsxs)("li",{className:"passed_shift_preview_item",onClick:()=>e.onClickHandler(e.shiftID),children:[(0,r.jsxs)("span",{children:["Date: ",e.date]}),(0,r.jsxs)("span",{children:["Employee: ",e.employee]}),(0,r.jsxs)("span",{children:["Number of Positions: ",e.count]})]},e.shiftID),j=e=>{const s=(0,f.s0)(),t=e=>{s("id=".concat(e))};return e.shifts.length>0?(0,r.jsx)("section",{className:"history_container translate_animation",children:e.shifts.map((e=>(0,r.jsx)(m,{date:e.date,employee:e.employe,count:e.count,onClickHandler:t,shiftID:e.shiftID})))}):(0,r.jsx)("div",{id:"empty_history",children:"There is no shift hgistory"})};var g=t(5602),_=t(2075),v=t(3896);var y=t(535);const b=()=>{const e=(0,i.I0)();let s=(0,i.v9)((e=>e.App.user.teamID)),t=(0,i.v9)((e=>e.blankShift.closedShifts)),a=(0,i.v9)((e=>e.blankShift.currentShift)),o=(0,i.v9)((e=>e.App.isFetch));(0,n.useEffect)((()=>{e((0,d.mo)(s))}),[]);let c=(e=>{const s=(0,i.I0)();(0,n.useEffect)((()=>{s((0,d.BT)(e))}),[]);let t=(0,i.v9)((e=>e.blankShift.currentShift.products));return t=t.map((e=>({...e,isDone:!1}))),Array.isArray(t)?t:[]})(s);const[l,h]=(()=>{const[e,s]=(0,n.useState)(0);return[(0,r.jsx)(g.Z,{sx:{width:"100%",marginBottom:"5px"},children:(0,r.jsxs)(_.Z,{value:e,onChange:(e,t)=>{s(t),console.log(t)},sx:{},children:[(0,r.jsx)(v.Z,{sx:{width:"50%",fontSize:"14px",color:"white"},label:"Current Shift"}),(0,r.jsx)(v.Z,{sx:{width:"50%",fontSize:"14px",color:"white"},label:"History"})]})}),e]})();return o?(0,r.jsx)(y.p,{}):(0,r.jsxs)("section",{className:"blank_shift_container translate_animation",children:[l,0===h?(0,r.jsx)(x,{products:c,shift:a}):(0,r.jsx)(j,{shifts:t})]})},I=()=>(0,r.jsx)("section",{children:(0,r.jsx)(b,{})})}}]);
//# sourceMappingURL=70.8db2199a.chunk.js.map